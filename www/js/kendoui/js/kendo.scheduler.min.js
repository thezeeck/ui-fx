/** 
 * Kendo UI v2016.3.1216 (http://www.telerik.com/kendo-ui)                                                                                                                                              
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("util/main.min",["kendo.core.min"],e)}(function(){return function(){function e(e){return typeof e!==N}function t(e,t){var n=i(t);return I.round(e*n)/n}function i(e){return e?I.pow(10,e):1}function n(e,t,i){return I.max(I.min(e,i),t)}function a(e){return e*P}function r(e){return e/P}function o(e){return"number"==typeof e&&!isNaN(e)}function s(t,i){return e(t)?t:i}function u(e){return e*e}function d(e){var t,i=[];for(t in e)i.push(t+e[t]);return i.sort().join("")}function l(e){var t,i=2166136261;for(t=0;t<e.length;++t)i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24),i^=e.charCodeAt(t);return i>>>0}function c(e){return l(d(e))}function h(e){var t,i=e.length,n=H,a=W;for(t=0;t<i;t++)a=I.max(a,e[t]),n=I.min(n,e[t]);return{min:n,max:a}}function p(e){return h(e).min}function f(e){return h(e).max}function m(e){return g(e).min}function v(e){return g(e).max}function g(e){var t,i,n,a=H,r=W;for(t=0,i=e.length;t<i;t++)n=e[t],null!==n&&isFinite(n)&&(a=I.min(a,n),r=I.max(r,n));return{min:a===H?void 0:a,max:r===W?void 0:r}}function _(e){if(e)return e[e.length-1]}function k(e,t){return e.push.apply(e,t),e}function w(e){return O.template(e,{useWithBlock:!1,paramName:"d"})}function D(t,i){return e(i)&&null!==i?" "+t+"='"+i+"' ":""}function b(e){var t,i="";for(t=0;t<e.length;t++)i+=D(e[t][0],e[t][1]);return i}function y(t){var i,n,a="";for(i=0;i<t.length;i++)n=t[i][1],e(n)&&(a+=t[i][0]+":"+n+";");if(""!==a)return a}function A(e){return"string"!=typeof e&&(e+="px"),e}function z(e){var t,i,n=[];if(e)for(t=O.toHyphens(e).split("-"),i=0;i<t.length;i++)n.push("k-pos-"+t[i]);return n.join(" ")}function T(t){return""===t||null===t||"none"===t||"transparent"===t||!e(t)}function E(e){for(var t={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},i=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";e>0;)e<i[0]?i.shift():(n+=t[i[0]],e-=i[0]);return n}function F(e){var t,i,n,a,r;for(e=e.toLowerCase(),t={i:1,v:5,x:10,l:50,c:100,d:500,m:1e3},i=0,n=0,a=0;a<e.length;++a){if(r=t[e.charAt(a)],!r)return null;i+=r,r>n&&(i-=2*n),n=r}return i}function B(e){var t=Object.create(null);return function(){var i,n="";for(i=arguments.length;--i>=0;)n+=":"+arguments[i];return n in t?t[n]:t[n]=e.apply(this,arguments)}}function C(e){for(var t,i,n=[],a=0,r=e.length;a<r;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<r?(i=e.charCodeAt(a++),56320==(64512&i)?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--)):n.push(t);return n}function x(e){return e.map(function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}).join("")}function S(e,t){function i(e,i){for(var n=[],a=0,r=0,o=0;a<e.length&&r<i.length;)t(e[a],i[r])<=0?n[o++]=e[a++]:n[o++]=i[r++];return a<e.length&&n.push.apply(n,e.slice(a)),r<i.length&&n.push.apply(n,i.slice(r)),n}return e.length<2?e.slice():function n(e){var t,a,r;return e.length<=1?e:(t=Math.floor(e.length/2),a=e.slice(0,t),r=e.slice(t),a=n(a),r=n(r),i(a,r))}(e)}function R(e){return M.test(e)}var M,I=Math,O=window.kendo,V=O.deepExtend,P=I.PI/180,H=Number.MAX_VALUE,W=-Number.MAX_VALUE,N="undefined",L=Date.now;L||(L=function(){return(new Date).getTime()}),V(O,{util:{MAX_NUM:H,MIN_NUM:W,append:k,arrayLimits:h,arrayMin:p,arrayMax:f,defined:e,deg:r,hashKey:l,hashObject:c,isNumber:o,isTransparent:T,last:_,limitValue:n,now:L,objectKey:d,round:t,rad:a,renderAttr:D,renderAllAttr:b,renderPos:z,renderSize:A,renderStyle:y,renderTemplate:w,sparseArrayLimits:g,sparseArrayMin:m,sparseArrayMax:v,sqr:u,valueOrDefault:s,romanToArabic:F,arabicToRoman:E,memoize:B,ucs2encode:x,ucs2decode:C,mergeSort:S,isUnicodeLetter:R}}),O.drawing.util=O.util,O.dataviz.util=O.util,M=RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]")}(),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("util/text-metrics.min",["kendo.core.min","util/main.min"],e)}(function(){!function(e){function t(){return{width:0,height:0,baseline:0}}function i(e,t,i){return c.current.measure(e,t,i)}function n(e,t){var i=[];if(e.length>0&&document.fonts){try{i=e.map(function(e){return document.fonts.load(e)})}catch(n){r.logToConsole(n)}Promise.all(i).then(t,t)}else t()}var a=document,r=window.kendo,o=r.Class,s=r.util,u=s.defined,d=o.extend({init:function(e){this._size=e,this._length=0,this._map={}},put:function(e,t){var i=this,n=i._map,a={key:e,value:t};n[e]=a,i._head?(i._tail.newer=a,a.older=i._tail,i._tail=a):i._head=i._tail=a,i._length>=i._size?(n[i._head.key]=null,i._head=i._head.newer,i._head.older=null):i._length++},get:function(e){var t=this,i=t._map[e];if(i)return i===t._head&&i!==t._tail&&(t._head=i.newer,t._head.older=null),i!==t._tail&&(i.older&&(i.older.newer=i.newer,i.newer.older=i.older),i.older=t._tail,i.newer=null,t._tail.newer=i,t._tail=i),i.value}}),l=e("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;' />")[0],c=o.extend({init:function(e){this._cache=new d(1e3),this._initOptions(e)},options:{baselineMarkerSize:1},measure:function(i,n,r){var o,d,c,h,p,f,m,v;if(!i)return t();if(o=s.objectKey(n),d=s.hashKey(i+o),c=this._cache.get(d),c)return c;h=t(),p=r?r:l,f=this._baselineMarker().cloneNode(!1);for(m in n)v=n[m],u(v)&&(p.style[m]=v);return e(p).text(i),p.appendChild(f),a.body.appendChild(p),(i+"").length&&(h.width=p.offsetWidth-this.options.baselineMarkerSize,h.height=p.offsetHeight,h.baseline=f.offsetTop+this.options.baselineMarkerSize),h.width>0&&h.height>0&&this._cache.put(d,h),p.parentNode.removeChild(p),h},_baselineMarker:function(){return e("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;' />")[0]}});c.current=new c,r.util.TextMetrics=c,r.util.LRUCache=d,r.util.loadFonts=n,r.util.measureText=i}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("util/base64.min",["util/main.min"],e)}(function(){return function(){function e(e){var i,n,a,o,s,u,d,l="",c=0;for(e=t(e);c<e.length;)i=e.charCodeAt(c++),n=e.charCodeAt(c++),a=e.charCodeAt(c++),o=i>>2,s=(3&i)<<4|n>>4,u=(15&n)<<2|a>>6,d=63&a,isNaN(n)?u=d=64:isNaN(a)&&(d=64),l=l+r.charAt(o)+r.charAt(s)+r.charAt(u)+r.charAt(d);return l}function t(e){var t,i,n="";for(t=0;t<e.length;t++)i=e.charCodeAt(t),i<128?n+=a(i):i<2048?(n+=a(192|i>>>6),n+=a(128|63&i)):i<65536&&(n+=a(224|i>>>12),n+=a(128|i>>>6&63),n+=a(128|63&i));return n}var i=window.kendo,n=i.deepExtend,a=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n(i.util,{encodeBase64:e,encodeUTF8:t})}(),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("mixins/observers.min",["kendo.core.min"],e)}(function(){return function(e){var t=Math,i=window.kendo,n=i.deepExtend,a=e.inArray,r={observers:function(){return this._observers=this._observers||[]},addObserver:function(e){return this._observers?this._observers.push(e):this._observers=[e],this},removeObserver:function(e){var t=this.observers(),i=a(e,t);return i!=-1&&t.splice(i,1),this},trigger:function(e,t){var i,n,a=this._observers;if(a&&!this._suspended)for(n=0;n<a.length;n++)i=a[n],i[e]&&i[e](t);return this},optionsChange:function(e){e=e||{},e.element=this,this.trigger("optionsChange",e)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=t.max((this._suspended||0)-1,0),this},_observerField:function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};n(i,{mixins:{ObserversMixin:r}})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("kendo.scheduler.min",["kendo.dropdownlist.min","kendo.editable.min","kendo.multiselect.min","kendo.window.min","kendo.datetimepicker.min","kendo.scheduler.recurrence.min","kendo.scheduler.view.min","kendo.scheduler.dayview.min","kendo.scheduler.agendaview.min","kendo.scheduler.monthview.min","kendo.scheduler.timelineview.min","kendo.mobile.actionsheet.min","kendo.mobile.pane.min","kendo.pdf.min"],e)}(function(){return function(e,t){function i(e,t){return t=t||"",e.startTimezone&&(t=e.startTimezone,e.endTimezone&&(t+=" | "+e.endTimezone)),t}function n(e,t){var i=t.timezone;i&&(e[x.attr("timezone")]=i)}function a(e,t){var i,n=t.model.fields[t.field].validation;n&&(i=n.dateCompare,i&&q(i)&&i.message&&(e[x.attr("dateCompare-msg")]=i.message))}function r(e,t){return function(i){return i=e(i),s(i,"apply",t),i||[]}}function o(e,t){return function(i){return i&&("[object Array]"===J.call(i)||i instanceof x.data.ObservableArray||(i=[i])),s(i,"remove",t,!0),i=e(i),i||[]}}function s(e,t,i,n){var a,r,o;for(e=e||[],r=0,o=e.length;r<o;r++)a=e[r],n?a.startTimezone||a.endTimezone?i?(a.start=x.timezone.convert(a.start,a.startTimezone||a.endTimezone,i),a.end=x.timezone.convert(a.end,a.endTimezone||a.startTimezone,i),a.start=x.timezone[t](a.start,i),a.end=x.timezone[t](a.end,i)):(a.start=x.timezone[t](a.start,a.startTimezone||a.endTimezone),a.end=x.timezone[t](a.end,a.endTimezone||a.startTimezone)):i&&(a.start=x.timezone[t](a.start,i),a.end=x.timezone[t](a.end,i)):a.startTimezone||a.endTimezone?(a.start=x.timezone[t](a.start,a.startTimezone||a.endTimezone),a.end=x.timezone[t](a.end,a.endTimezone||a.startTimezone),i&&(a.start=x.timezone.convert(a.start,a.startTimezone||a.endTimezone,i),a.end=x.timezone.convert(a.end,a.endTimezone||a.startTimezone,i))):i&&(a.start=x.timezone[t](a.start,i),a.end=x.timezone[t](a.end,i)),n&&delete a.uid;return e}function u(e,t){for(var i,n=e.length,a=0;a<n;a++)if(i=e[a],i.uid===t)return i}function d(e,t,i){return e=i?x.timezone.convert(e,t,i):x.timezone.remove(e,t)}function l(e){var t,i,n,a,r,o,s,u,l,c,h,p;return!(e.filter("[name=end]").length&&(t=e.closest(".k-scheduler-edit-form"),i=t.find("[name=start]:visible"),n=t.find("[name=end]:visible"),n[0]&&i[0]&&(o=x.widgetInstance(i,x.ui),s=x.widgetInstance(n,x.ui),u=t.data("kendoEditable"),l=u?u.options.model:null,o&&s?(a=o.value(),r=s.value()):(a=x.parseDate(i.val()),r=x.parseDate(n.val())),a&&r)))||(l&&(c=i.attr(x.attr("timezone")),h=l.startTimezone,p=l.endTimezone,h=h||p,p=p||h,h&&(a=d(a,h,c),r=d(r,p,c))),a<=r)}function c(e,t,i,n){for(var a=e.length,r=[],o=0;o<a;o++)r=r.concat(e[o].expand(t,i,n));return r}function h(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}function p(t,i){var n,a,r=(t.fields||t)[i],o=["url","email","number","date","boolean"],s=r?r.validation:{},u=x.attr("type"),d=e.inArray,l={};for(n in s)a=s[n],d(n,o)>=0?l[u]=n:x.isFunction(a)||(l[n]=q(a)?a.value||n:a),l[x.attr(n+"-msg")]=a.message;return l}function f(t,i){var n=p(i,t.field);return function(i){e(x.format('<select data-{0}bind="value:{1}">',x.ns,t.field)).appendTo(i).attr(n).kendoDropDownList({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,optionLabel:"None",template:x.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}function m(t){var i=p(t.model,t.field);return function(t){e('<textarea name="description" class="k-textbox"/>').attr(i).appendTo(t)}}function v(t,i){var n=p(i,t.field);return function(i){e(x.format('<select data-{0}bind="value:{1}">',x.ns,t.field)).appendTo(i).attr(n).kendoMultiSelect({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,itemTemplate:x.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField),tagTemplate:x.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}function g(t,i){var n=p(i,t.field);return function(i){var a,r,o="",s=t.dataSource.view();for(a=0,r=s.length;a<r;a++)o+=x.format('<option value="{0}">{1}</option>',x.getter(t.dataValueField)(s[a]),x.getter(t.dataTextField)(s[a]));e(x.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',x.ns,t.field,o,t.valuePrimitive)).appendTo(i).attr(n)}}function _(e,t){var i,n=e.end.getTime()-e.start.getTime(),a=new Date(e.start.getTime());return x.date.setTime(a,t),i=new Date(a.getTime()),x.date.setTime(i,n,!0),{start:a,end:i}}var k,w,D,b,y,A,z,T,E,F,B,C,x=window.kendo,S=x.date,R=x.support.input,M=S.MS_PER_DAY,I=S.getDate,O=x.date.getMilliseconds,V=x.recurrence,P=x.keys,H=x.ui,W=H.Widget,N=H.DataBoundWidget,L="string",U=H.Popup,j=H.Calendar,K=x.data.DataSource,q=e.isPlainObject,Q=e.extend,$=e.proxy,J=Object.prototype.toString,Y=e.isArray,Z=".kendoScheduler",X="click",G="change",ee="cancel",te="remove",ie="save",ne="add",ae="edit",re=/(?:value:start|value:end)(?:,|$)/,oe=I(new Date),se=",",ue=/\;/g,de="recurrenceException",le="Are you sure you want to delete this event?",ce="Do you want to delete only this event occurrence or the whole series?",he="Do you want to edit only this event occurrence or the whole series?",pe="Are you sure you want to delete this event occurrence?",fe="Are you sure you want to delete the whole series?",me='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',ve=x.template('<li class="k-current-view" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'),ge=x.template('<div class="k-floatwrap k-header k-scheduler-toolbar"># if (pdf) { #<ul class="k-reset k-scheduler-tools"><li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-pdf"></span>${messages.pdf}</a></li></ul># } #<ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div>'),_e=x.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),ke=function(t,i){var r={name:i.field},o=R.date?"":x.attr("role")+'="datepicker" ',s=x.attr("role")+'="datetimepicker" ',u=i.model.isAllDay,d=x.attr("validate")+"='"+!u+"'",l=x.attr("validate")+"='"+u+"'";n(r,i),a(r,i),e('<input type="datetime-local" required '+x.attr("type")+'="date" '+s+x.attr("bind")+'="value:'+i.field+',invisible:isAllDay" '+d+"/>").attr(r).appendTo(t),e('<input type="date" required '+x.attr("type")+'="date" '+o+x.attr("bind")+'="value:'+i.field+',visible:isAllDay" '+l+"/>").attr(r).appendTo(t),e("<span "+x.attr("for")+'="'+i.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},we=function(t,i){var r={name:i.field},o=i.model.isAllDay,s=x.attr("validate")+"='"+!o+"' ",u=x.attr("validate")+"='"+o+"' ";n(r,i),a(r,i),e('<input type="text" required '+x.attr("type")+'="date" '+x.attr("role")+'="datetimepicker" '+x.attr("bind")+'="value:'+i.field+',invisible:isAllDay" '+s+"/>").attr(r).appendTo(t),e('<input type="text" required '+x.attr("type")+'="date" '+x.attr("role")+'="datepicker" '+x.attr("bind")+'="value:'+i.field+',visible:isAllDay" '+u+"/>").attr(r).appendTo(t),e("<span "+x.attr("bind")+'="text: '+i.field+'Timezone"></span>').appendTo(t),"end"===i.field&&e("<span "+x.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(t),e("<span "+x.attr("for")+'="'+i.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},De=function(t,i){e("<div "+x.attr("bind")+'="value:'+i.field+'" />').attr({name:i.field}).appendTo(t).kendoRecurrenceEditor({start:i.model.start,timezone:i.timezone,messages:i.messages})},be=function(t,i){e("<div "+x.attr("bind")+'="value:'+i.field+'" />').attr({name:i.field}).appendTo(t).kendoMobileRecurrenceEditor({start:i.model.start,timezone:i.timezone,messages:i.messages,pane:i.pane,value:i.model[i.field]})},ye=function(t,n){var a=i(n.model,n.messages.noTimezone);e('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+a+"</a>").click(n.click).appendTo(t)},Ae=function(t,i){e('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+i.messages.timezoneEditorButton+"</a>").click(i.click).appendTo(t)},ze=function(t,i){e("<div "+x.attr("bind")+'="value:'+i.field+'" />').attr({name:i.field}).toggle(i.visible).appendTo(t).kendoMobileTimezoneEditor({optionLabel:i.noTimezone})},Te=function(i,n){var a=n.visible||n.visible===t;e("<div "+x.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).toggle(a).appendTo(i).kendoTimezoneEditor({optionLabel:n.noTimezone})},Ee=x.Class.extend({init:function(t,i){var n=t.timezone;this.reader=i,i.model&&(this.model=i.model),this.timezone=n,this.data=r(e.proxy(this.data,this),n),this.serialize=o(e.proxy(this.serialize,this),n)},errors:function(e){return this.reader.errors(e)},parse:function(e){return this.reader.parse(e)},data:function(e){return this.reader.data(e)},total:function(e){return this.reader.total(e)},groups:function(e){return this.reader.groups(e)},aggregates:function(e){return this.reader.aggregates(e)},serialize:function(e){return this.reader.serialize(e)}}),Fe=x.data.Model.define({init:function(e){var t=this;x.data.Model.fn.init.call(t,e),t._defaultId=t.defaults[t.idField]},_time:function(e){var t=this[e],i="_"+e+"Time";return this[i]?this[i]-x.date.toUtcTime(x.date.getDate(t)):O(t)},_date:function(e){var t="_"+e+"Time";return this[t]?this[t]-this._time(e):x.date.getDate(this[e])},clone:function(t,i){var n=this.uid,a=new this.constructor(e.extend({},this.toJSON(),t));return i||(a.uid=n),a},duration:function(){var e=this.end,t=this.start,i=(e.getTimezoneOffset()-t.getTimezoneOffset())*x.date.MS_PER_MINUTE;return e-t-i},expand:function(e,t,i){return V?V.expand(this,e,t,i):[this]},update:function(e){for(var t in e)this.set(t,e[t]);this._startTime&&this.set("_startTime",x.date.toUtcTime(this.start)),this._endTime&&this.set("_endTime",x.date.toUtcTime(this.end))},isMultiDay:function(){return this.isAllDay||this.duration()>=x.date.MS_PER_DAY},isException:function(){return!this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return!(!this.recurrenceRule&&!this.recurrenceId)},isRecurrenceHead:function(){return!(!this.id||!this.recurrenceRule)},toOccurrence:function(t){return t=e.extend(t,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId}),t[this.idField]=this.defaults[this.idField],this.clone(t,!0)},toJSON:function(){var e=x.data.Model.fn.toJSON.call(this);return e.uid=this.uid,delete e._startTime,delete e._endTime,e},shouldSerialize:function(e){return x.data.Model.fn.shouldSerialize.call(this,e)&&"_defaultId"!==e},set:function(e,t){var i,n,a,r=this.isAllDay||!1;x.data.Model.fn.set.call(this,e,t),"isAllDay"==e&&t!=r&&(i=x.date.getDate(this.start),n=new Date(this.end),a=x.date.getMilliseconds(n),0===a&&t&&(a=M),this.set("start",i),t===!0?(x.date.setTime(n,-a),n<i&&(n=i)):x.date.setTime(n,M-a),this.set("end",n))},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:!0}},startTimezone:{type:"string"},end:{type:"date",validation:{required:!0,dateCompare:{value:l}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:!1},description:{type:"string"}}}),Be=K.extend({init:function(e){K.fn.init.call(this,Q(!0,{},{schema:{modelBase:Fe,model:Fe}},e)),this.reader=new Ee(this.options.schema,this.reader)},expand:function(e,t){var i=this.view(),n={};return e&&t&&(t=new Date(t.getTime()+M-1),n={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lte",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(e.getTime()+M-1)},{field:"end",operator:"gte",value:e}]}]},i=new x.data.Query(c(i,e,t,this.reader.timezone)).filter(n).toArray()),i},cancelChanges:function(e){e&&e.isOccurrence()&&this._removeExceptionDate(e),K.fn.cancelChanges.call(this,e)},insert:function(e,t){if(t){if(!(t instanceof Fe)){var i=t;t=this._createNewModel(),t.accept(i)}return(!this._pushCreated&&t.isRecurrenceHead()||t.recurrenceId)&&(t=t.recurrenceId?t:t.toOccurrence(),this._addExceptionDate(t)),K.fn.insert.call(this,e,t)}},pushCreate:function(e){this._pushCreated=!0,K.fn.pushCreate.call(this,e),this._pushCreated=!1},remove:function(e){return e.isRecurrenceHead()?this._removeExceptions(e):e.isRecurring()&&this._addExceptionDate(e),K.fn.remove.call(this,e)},_removeExceptions:function(e){for(var t=this.data().slice(0),i=t.shift(),n=e.id;i;)i.recurrenceId===n&&K.fn.remove.call(this,i),i=t.shift();e.set(de,"")},_removeExceptionDate:function(e){var t,i,n,a;e.recurrenceId&&(t=this.get(e.recurrenceId),t&&(i=e.start,n=RegExp("(\\"+se+"?)"+V.toExceptionString(i,this.reader.timezone)),a=(t.recurrenceException||"").replace(ue,se).replace(/\,$/,""),t.set(de,a.replace(n,""))))},_addExceptionDate:function(e){var t,i=e.start,n=this.reader.timezone,a=this.get(e.recurrenceId),r=(a.recurrenceException||"").replace(ue,se).replace(/\,$/,"");V.isException(r,i,n)||(t=V.toExceptionString(i,n),a.set(de,r+(r&&t?se:"")+t))}});Be.create=function(e){(Y(e)||e instanceof x.data.ObservableArray)&&(e={data:e});var t=e||{},i=t.data;if(t.data=i,!(t instanceof Be)&&t instanceof x.data.DataSource)throw Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported");return t instanceof Be?t:new Be(t)},Q(!0,x.data,{SchedulerDataSource:Be,SchedulerDataReader:Ee,SchedulerEvent:Fe}),k={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-i-delete",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}},w={mobile:{dateRange:ke,timezonePopUp:ye,timezone:ze,recurrence:be,description:m,multipleResources:g,resources:f},desktop:{dateRange:we,timezonePopUp:Ae,timezone:Te,recurrence:De,description:m,multipleResources:v,resources:f}},D=x.Observable.extend({init:function(e,t){x.Observable.fn.init.call(this),this.element=e,this.options=Q(!0,{},this.options,t),this.createButton=this.options.createButton,this.toggleDateValidationHandler=$(this._toggleDateValidation,this)},_toggleDateValidation:function(t){if("isAllDay"==t.field){var i,n,a,r=this.container,o=this.editable.options.model.isAllDay,s=x.attr("bind");r.find("["+s+"*=end],["+s+"*=start]").each(function(){i=e(this),re.test(i.attr(s))&&(n=i.is("["+x.attr("role")+"=datetimepicker],[type*=datetime]"),a=o!==n,i.attr(x.attr("validate"),a))})}},fields:function(e,t){var i,n,a=this,r=a.options.messages,o=a.options.timezone,s=function(e){e.preventDefault(),a._initTimezoneEditor(t,this)},u=[{field:"title",title:r.editor.title},{field:"start",title:r.editor.start,editor:e.dateRange,timezone:o},{field:"end",title:r.editor.end,editor:e.dateRange,timezone:o},{field:"isAllDay",title:r.editor.allDayEvent}];x.timezone.windows_zones&&(u.push({field:"timezone",title:r.editor.timezone,editor:e.timezonePopUp,click:s,messages:r.editor,model:t}),u.push({field:"startTimezone",title:r.editor.startTimezone,editor:e.timezone,noTimezone:r.editor.noTimezone}),u.push({field:"endTimezone",title:r.editor.endTimezone,editor:e.timezone,noTimezone:r.editor.noTimezone})),t.recurrenceId||u.push({field:"recurrenceRule",title:r.editor.repeat,editor:e.recurrence,timezone:o,messages:r.recurrenceEditor,pane:this.pane}),"description"in t&&u.push({field:"description",title:r.editor.description,editor:e.description({model:t,field:"description"})});for(i=0;i<this.options.resources.length;i++)n=this.options.resources[i],u.push({field:n.field,title:n.title,editor:n.multiple?e.multipleResources(n,t):e.resources(n,t)});return u},end:function(){return this.editable.end()},_buildEditTemplate:function(e,t,i){var n,a,r,o,s=this.options.messages,u=Q({},x.Template,this.options.templateSettings),d=u.paramName,l=this.options.editable.template,c="";if(l)typeof l===L&&(l=window.unescape(l)),c+=x.template(l,u)(e);else for(n=0,a=t.length;n<a;n++)r=t[n],"startTimezone"===r.field&&(c+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',c+='<div class="k-edit-form-container">',c+='<div class="k-edit-label"></div>',c+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+s.editor.separateTimezones+"</label></div>"),c+='<div class="k-edit-label"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>",!e.editable||e.editable(r.field)?(i.push(r),
c+="<div "+x.attr("container-for")+'="'+r.field+'" class="k-edit-field"></div>'):(o="#:",r.field?(r=x.expr(r.field,d),o+=r+"==null?'':"+r):o+="''",o+="#",o=x.template(o,u),c+='<div class="k-edit-field">'+o(e)+"</div>"),"endTimezone"===r.field&&(c+=this._createEndTimezoneButton());return c},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(e){e.set("startTimezone",this._startTimezone),e.set("endTimezone",this._endTimezone),delete this._startTimezone,delete this._endTimezone}}),b=D.extend({init:function(){D.fn.init.apply(this,arguments),this.pane=x.mobile.ui.Pane.wrap(this.element),this.pane.element.parent().css("height",this.options.height),this.view=this.pane.view(),this._actionSheetButtonTemplate=x.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>'),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close(),this.unbind(),this.pane.destroy()},_initTimezoneEditor:function(t){var n,a=this,r=a.pane,o=a.options.messages,s=a.timezoneView,u=a.container.find(".k-scheduler-timezones"),d=u.find(".k-timezone-toggle"),l=u.find(".k-edit-label:last").add(u.find(".k-edit-field:last")),c=function(e){if("startTimezone"===e.field){var i=t.startTimezone;d.prop("disabled",!i),i||(l.hide(),t.set("endTimezone",""),d.prop("checked",!1))}};a._startTimezone=t.startTimezone||"",a._endTimezone=t.endTimezone||"",s||(n='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+o.cancel+"</a>"+o.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+o.save+"</a></div></div>",this.timezoneView=s=r.append(n),s.contentElement().append(u.show()),s.element.on(X+Z,".k-scheduler-cancel, .k-scheduler-update",function(n){var s,u;n.preventDefault(),n.stopPropagation(),e(this).hasClass("k-scheduler-cancel")&&a._revertTimezones(t),t.unbind("change",c),s=r.element.find("#edit").data("kendoMobileView"),u=i(t,o.editor.noTimezone),s.contentElement().find(".k-timezone-button").text(u),r.navigate(s,a.options.animations.right)}),d.click(function(){l.toggle(d.prop("checked")),t.set("endTimezone","")}),t.bind("change",c)),d.prop("checked",t.endTimezone).prop("disabled",!t.startTimezone),t.endTimezone?l.show():l.hide(),r.navigate(s,a.options.animations.left)},_createActionSheetButton:function(e){return e.template=this._actionSheetButtonTemplate,this.createButton(e)},showDialog:function(t){var i,n,a="",r='<ul><li class="km-actionsheet-title">'+t.title+"</li>",o=this.element.find(".k-event["+x.attr("uid")+"='"+t.model.uid+"']");for(this.container&&(o=this.container.find(".k-scheduler-delete"),o[0]&&(a="phone")),i=0;i<t.buttons.length;i++)r+=this._createActionSheetButton(t.buttons[i]);r+="</ul>",n=e(r).appendTo(this.pane.view().element).kendoMobileActionSheet({type:a,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(i){var a=n.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(e(i.currentTarget));a>-1&&(n.close(),t.buttons[a].click())},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet"),n.open(o)},editEvent:function(t){var i,n,a,r,o,s=this.pane,u="",d=this.options.messages,l=d.save,c=d.destroy,h=d.cancel,p=d.editor.editorTitle;return u+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+x.attr("uid")+'="'+t.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+h+"</a>"+p+'<a href="#" class="k-button k-scheduler-update">'+l+"</a></div>",i=this.fields(w.mobile,t),n=this,a=[],u+=this._buildEditTemplate(t,i,a),!t.isNew()&&this.options.editable&&this.options.editable.destroy!==!1&&(u+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+c+"</a></div>"),u+="</div>",r=s.append(u),o=this.container=r.element,this.editable=o.kendoEditable({fields:a,model:t,clearContainer:!1,target:n.options.target,validateOnBlur:!0}).data("kendoEditable"),o.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click()}),this.trigger("edit",{container:o,model:t})?this.trigger("cancel",{container:o,model:t}):(o.on(X+Z,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(i){var a,r;i.preventDefault(),i.stopPropagation(),a=e(this),a.hasClass("k-scheduler-edit")?s.navigate("#edit",n.options.animations.right):(r="cancel",a.hasClass("k-scheduler-update")?r="save":a.hasClass("k-scheduler-delete")&&(r="remove"),n.trigger(r,{container:o,model:t}))}),s.navigate(r,n.options.animations.left),t.bind("change",n.toggleDateValidationHandler)),this.editable},_views:function(){return this.pane.element.find(x.roleSelector("view")).not(this.view.element)},close:function(){var e,t,i,n;if(this.container){for(this.pane.navigate("",this.options.animations.right),e=this._views(),i=0,n=e.length;i<n;i++)t=e.eq(i).data("kendoMobileView"),t&&t.purge();e.remove(),this.container=null,this.editable&&(this.editable.options.model.unbind("change",this.toggleDateValidationHandler),this.editable.destroy(),this.editable=null),this.timezoneView=null}}}),y=D.extend({destroy:function(){this.close(),this.unbind()},editEvent:function(t){var i,n,a,r=this,o=r.options.editable,s="<div "+x.attr("uid")+'="'+t.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',u=r.options.messages,d=u.save,l=u.cancel,c=u.destroy,h=this.fields(w.desktop,t),p=[];return s+=this._buildEditTemplate(t,h,p),n=q(o)?o.window:{},s+='<div class="k-edit-buttons k-state-default">',s+=this.createButton({name:"update",text:d,attr:i})+this.createButton({name:"canceledit",text:l,attr:i}),t.isNew()||o.destroy===!1||(s+=this.createButton({name:"delete",text:c,attr:i})),s+="</div></div></div>",a=this.container=e(s).appendTo(r.element).eq(0).kendoWindow(Q({modal:!0,resizable:!1,draggable:!0,title:u.editor.editorTitle,visible:!1,close:function(e){e.userTriggered&&r.trigger(ee,{container:a,model:t})&&e.preventDefault()}},n)),r.editable=a.kendoEditable({fields:p,model:t,clearContainer:!1,validateOnBlur:!0,target:r.options.target}).data("kendoEditable"),r.trigger(ae,{container:a,model:t})?r.trigger(ee,{container:a,model:t}):(a.data("kendoWindow").center().open(),a.on(X+Z,"a.k-scheduler-cancel",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(ee,{container:a,model:t})}),a.on(X+Z,"a.k-scheduler-update",function(e){e.preventDefault(),e.stopPropagation(),r.trigger("save",{container:a,model:t})}),a.on(X+Z,"a.k-scheduler-delete",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(te,{container:a,model:t})}),x.cycleForm(a),t.bind("change",r.toggleDateValidationHandler)),r.editable},close:function(){var e=this,t=function(){e.editable&&(e.editable.options.model.unbind("change",e.toggleDateValidationHandler),e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null)};e.editable?(e._timezonePopup&&e._timezonePopup.data("kendoWindow")&&(e._timezonePopup.data("kendoWindow").destroy(),e._timezonePopup=null),e.container.is(":visible")?e.container.data("kendoWindow").bind("deactivate",t).close():t()):t()},_createEndTimezoneButton:function(){var e=this.options.messages,t="";return t+='<div class="k-edit-buttons k-state-default">',t+=this.createButton({name:"savetimezone",text:e.save})+this.createButton({name:"canceltimezone",text:e.cancel}),t+="</div></div></div>"},showDialog:function(t){var i,n,a,r=x.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",t.text);for(r+='<div class="k-edit-buttons k-state-default">',i=0;i<t.buttons.length;i++)r+=this.createButton(t.buttons[i]);r+="</div></div></div>",n=this.element,this.popup&&this.popup.destroy(),a=this.popup=e(r).appendTo(n).eq(0).on("click",".k-button",function(i){i.preventDefault(),a.close();var n=e(i.currentTarget).index();t.buttons[n].click()}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:t.title,visible:!1,close:function(){this.destroy(),n.focus()}}).getKendoWindow(),a.center().open()},_initTimezoneEditor:function(e,t){var i,n=this,a=n.container.find(".k-scheduler-timezones"),r=a.find(".k-timezone-toggle"),o=a.find(".k-edit-label:last").add(a.find(".k-edit-field:last")),s=a.find(".k-scheduler-savetimezone"),u=a.find(".k-scheduler-canceltimezone"),d=n._timezonePopup,l=function(t){if("startTimezone"===t.field){var i=e.startTimezone;r.prop("disabled",!i),i||(o.hide(),e.set("endTimezone",""),r.prop("checked",!1))}};n._startTimezone=e.startTimezone,n._endTimezone=e.endTimezone,d||(n._timezonePopup=d=a.kendoWindow({modal:!0,resizable:!1,draggable:!0,title:n.options.messages.editor.timezoneEditorTitle,visible:!1,close:function(i){e.unbind("change",l),i.userTriggered&&n._revertTimezones(e),t&&t.focus()}}),r.click(function(){o.toggle(r.prop("checked")),e.set("endTimezone","")}),s.click(function(e){e.preventDefault(),i.close()}),u.click(function(t){t.preventDefault(),n._revertTimezones(e),i.close()}),e.bind("change",l)),r.prop("checked",e.endTimezone).prop("disabled",!e.startTimezone),e.endTimezone?o.show():o.hide(),i=d.data("kendoWindow"),i.center().open()}}),A=N.extend({init:function(t,i){var n=this;W.fn.init.call(n,t,i),n.options.views&&n.options.views.length||(n.options.views=["day","week"]),n.resources=[],n._initModel(),n._wrapper(),n._views(),n._toolbar(),n._dataSource(),n._resources(),n._resizeHandler=function(){n.resize()},n.wrapper.on("mousedown"+Z+" selectstart"+Z,function(t){e(t.target).is(":kendoFocusable")||t.preventDefault()}),n.options.editable&&n.options.editable.resize!==!1&&n._resizable(),n._movable(),n._bindResize(),n.options.messages&&n.options.messages.recurrence&&(V.options=n.options.messages.recurrence),n._selectable(),n._ariaId=x.guid(),n._createEditor()},_bindResize:function(){e(window).on("resize"+Z,this._resizeHandler)},_unbindResize:function(){e(window).off("resize"+Z,this._resizeHandler)},dataItems:function(){var i,n,a,r,o,s=this,u=s.items(),d=s._data,l=e.map(u,function(t){return e(t).attr("data-uid")}),c={},h=l.length;for(i=0;i<h;i++)c[l[i]]=null;for(a=d.length,i=0;i<a;i++)r=d[i],c[r.uid]!==t&&(c[r.uid]=r);o=[];for(n in c)o.push(c[n]);return o},_isMobile:function(){var e=this.options;return e.mobile===!0&&x.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile},_isMobilePhoneView:function(){var e=this.options;return e.mobile===!0&&x.support.mobileOS&&!x.support.mobileOS.tablet||"phone"===e.mobile},_groupsByResource:function(e,t,i,n,a){var r,o,s,u,d,l,c;if(i||(i=[]),r=e[0]){for(s=r.dataSource.view(),u=0,d=0;d<s.length;d++)l=x.getter(r.dataValueField)(s[d]),c=t+u+d,o=this._groupsByResource(e.slice(1),c,i,l,r.field),o[r.field]=l,u=o.groupIndex,a&&n&&(o[a]=n),1===e.length&&(o.groupIndex=t+d,i.push(o));return o}return{}},data:function(){return this._data},select:function(i){var n,a,r,o,s,u,d,l,c,h,p=this,f=p.view(),m=p._selection,v=f.groups;if(i===t)return r=f._selectedSlots,m?(m&&m.events&&(a=p._selectedEvents()),{start:m.start,end:m.end,events:a,slots:r,resources:f._resourceBySlot(m)}):[];if(!i)return p._selection=null,p._old=null,f.clearSelection(),t;if(e.isArray(i)&&(i={events:i.splice(0)}),i.resources){s=[],u=[],f.groupedResources&&p._groupsByResource(f.groupedResources,0,u);for(o in i.resources)s.push({field:o,operator:"eq",value:i.resources[o]});n=new x.data.Query(u).filter(s).toArray()}return i.events&&i.events.length?(p._selectEvents(i.events,n),p._select(),t):(v&&i.start&&i.end&&(d=I(f._startDate),l=x.date.addDays(I(f._endDate),1),i.start<l&&d<=i.end&&(c=n&&n.length?v[n[0].groupIndex]:v[0],h=c.ranges(i.start,i.end,i.isAllDay,!1),h.length&&(p._selection={start:x.timezone.toLocalDate(h[0].start.start),end:x.timezone.toLocalDate(h[h.length-1].end.end),groupIndex:h[0].start.groupIndex,index:h[0].start.index,isAllDay:h[0].start.isDaySlot,events:[]},p._select()))),t)},_selectEvents:function(e,t){var i,n,a,r,o,s,u,d,l=this,c=l.view(),h=c.groups,p=e.length,f=t&&t.length;for(i=0;i<p;i++)if(h&&f){for(n=h[t[0].groupIndex],a=[],r=n.timeSlotCollectionCount(),o=n.daySlotCollectionCount(),s=0;s<r;s++)a=a.concat(n.getTimeSlotCollection(s).events());for(u=0;u<o;u++)a=a.concat(n.getDaySlotCollection(u).events());a=new x.data.Query(a).filter({field:"element[0].getAttribute('data-uid')",operator:"eq",value:e[i]}).toArray(),a[0]&&l._createSelection(a[0].element)}else d=c.element.find(x.format(".k-event[data-uid={0}], .k-task[data-uid={0}]",e[i])),d.length&&l._createSelection(d[0])},_selectable:function(){var t,i=this,n=i.wrapper,a=x.support.mobileOS?"touchend":"mousedown";i.options.selectable&&(i._tabindex(),n.on(a+Z,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(e){var t=e.which,a=e.button,r=x.support.browser,o=t&&3===t||a&&2==a;x.support.mobileOS&&e.isDefaultPrevented()||(o||i._createSelection(e.currentTarget),n.focus(),r.msie&&r.version<9&&setTimeout(function(){n.focus()}))}),t=e.proxy(i._mouseMove,i),n.on("mousedown"+Z,".k-scheduler-header-all-day td, .k-scheduler-content td",function(e){var i=e.which,a=e.button,r=i&&3===i||a&&2==a;r||n.on("mousemove"+Z,".k-scheduler-header-all-day td, .k-scheduler-content td",t)}),n.on("mouseup"+Z+" mouseleave"+Z,function(){n.off("mousemove"+Z,".k-scheduler-header-all-day td, .k-scheduler-content td",t)}),n.on("focus"+Z,function(){i._selection||i._selectFirstSlot(),i._select()}),n.on("focusout"+Z,function(){i._ctrlKey=i._shiftKey=!1}),n.on("keydown"+Z,$(i._keydown,i)),n.on("keyup"+Z,function(e){i._ctrlKey=e.ctrlKey,i._shiftKey=e.shiftKey}))},_selectFirstSlot:function(){this._createSelection(this.wrapper.find(".k-scheduler-content").find("td:first"))},_select:function(){var t,i,n,a,r,o=this,s=o.view(),u=o.wrapper,d=s.current(),l=o._selection;if(l&&(d&&(d.removeAttribute("id"),d.removeAttribute("aria-label"),u.removeAttr("aria-activedescendant")),s.select(l),d=s.current(),d&&o._old!==d)){if(t=e(d).data("uid"),o._old&&t&&t===e(o._old).data("uid"))return;n=l,a=o._selectedEvents(),r=s._selectedSlots,a[0]?(n=a[0]||l,i=x.format(o.options.messages.ariaEventLabel,n.title,n.start,n.start)):i=x.format(o.options.messages.ariaSlotLabel,n.start,n.end),d.setAttribute("id",o._ariaId),d.setAttribute("aria-label",i),u.attr("aria-activedescendant",o._ariaId),o._old=d,o.trigger("change",{start:l.start,end:l.end,events:a,slots:r,resources:s._resourceBySlot(l)})}},_selectedEvents:function(){for(var e,t=this._selection.events,i=t.length,n=0,a=[];n<i;n++)e=this.occurrenceByUid(t[n]),e&&a.push(e);return a},_mouseMove:function(t){var i=this;clearTimeout(i._moveTimer),i._moveTimer=setTimeout(function(){var n,a,r,o=i.view(),s=i._selection;s&&(n=o.selectionByElement(e(t.currentTarget)),n&&s.groupIndex===n.groupIndex&&(a=n.startDate(),r=n.endDate(),a>=s.end?s.backward=!1:r<=s.start&&(s.backward=!0),s.backward?s.start=a:s.end=r,i._select()))},5)},_viewByIndex:function(e){var t,i=this.views;for(t in i){if(!e)return t;e--}},_keydown:function(i){var n=this,a=i.keyCode,r=n.view(),o=r.options.editable,s=n._selection,u=i.shiftKey;return n._ctrlKey=i.ctrlKey,n._shiftKey=i.shiftKey,s?(a===P.TAB?r.moveToEvent(s,u)&&(n._select(),i.preventDefault()):o&&a===P.ENTER?s.events.length?o.update!==!1&&n.editEvent(s.events[0]):o.create!==!1&&(s.isAllDay&&(s=e.extend({},s,{end:x.date.addDays(s.end,-1)})),n.addEvent(Q({},s,r._resourceBySlot(s)))):a===P.DELETE&&o!==!1&&o.destroy!==!1?n.removeEvent(s.events[0]):a>=49&&a<=57?n.view(n._viewByIndex(a-49)):r.move(s,a,u)&&(r.inRange(s)?n._select():n.date(s.start),i.preventDefault()),n._adjustSelectedDate(),t):(n._selectFirstSlot(),n._select(),t)},_createSelection:function(t){var i,n,a;this._selection&&(this._ctrlKey||this._shiftKey)||(this._selection={events:[],groupIndex:0}),t=e(t),a=this._selection,t.is(".k-event")&&(i=t.attr(x.attr("uid"))),n=this.view().selectionByElement(t),n&&(a.groupIndex=n.groupIndex||0),i&&(n=u(this._data,i)),n&&n.uid&&(i=[n.uid]),this._updateSelection(n,i),this._adjustSelectedDate()},_updateSelection:function(e,i,n){var a,r,o=this._selection;e&&o&&(a=this.view(),e.uid&&(e=a._updateEventForSelection(e)),this._shiftKey&&o.start&&o.end?(r=e.end<o.end,o.end=e.endDate?e.endDate():e.end,r&&a._timeSlotInterval&&x.date.setTime(o.end,-a._timeSlotInterval())):(o.start=e.startDate?e.startDate():e.start,o.end=e.endDate?e.endDate():e.end),o.isAllDay="isDaySlot"in e?e.isDaySlot:e.isAllDay,null!==n&&n!==t&&(o.groupIndex=n),o.index=e.index,o.events=this._ctrlKey?o.events.concat(i||[]):i||[])},options:{name:"Scheduler",date:oe,editable:!0,autoBind:!0,snap:!0,mobile:!1,timezone:"",allDaySlot:!0,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,footer:{},messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editable:{confirmation:le},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],orientation:"horizontal"},views:[],selectable:!1},events:[te,ae,ee,ie,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var t,i=this;W.fn.destroy.call(i),i.dataSource&&(i.dataSource.unbind(G,i._refreshHandler),i.dataSource.unbind("progress",i._progressHandler),i.dataSource.unbind("error",i._errorHandler)),i.calendar&&(i.calendar.destroy(),i.popup.destroy()),i.view()&&i.view().destroy(),i._editor&&i._editor.destroy(),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),t=i.element.add(i.wrapper).add(i.toolbar).add(i.popup),t.off(Z),clearTimeout(i._moveTimer),i._model=null,i.toolbar=null,i.element=null,e(window).off("resize"+Z,i._resizeHandler),x.destroy(i.wrapper)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},items:function(){var e=this.wrapper.find(".k-scheduler-content"),t=this.view();return t&&"agenda"===t.options.name?e.find(".k-task"):e.find(".k-event").add(this.wrapper.find(".k-scheduler-header-wrap").find(".k-scheduler-header-all-day").siblings())},_movable:function(){var i,n,a,r,o,s,u,d=this,l=0,c=d._isMobile(),h=d.options.editable&&d.options.editable.move!==!1,p=d.options.editable&&d.options.editable.resize!==!1;(h||p&&c)&&(c&&x.support.mobileOS.android&&(l=5),d._moveDraggable=new x.ui.Draggable(d.element,{distance:l,filter:".k-event",ignore:".k-resize-handle",holdToDrag:c,autoScroll:!0}),h&&d._moveDraggable.bind("dragstart",function(e){var r=d.view(),l=e.currentTarget;return r.options.editable&&r.options.editable.move!==!1?c&&!l.hasClass("k-event-active")?(d.element.find(".k-event-active").removeClass("k-event-active"),e.preventDefault(),t):(o=d.occurrenceByUid(l.attr(x.attr("uid"))),s=o.clone(),s.update(r._eventOptionsForMove(s)),i=r._slotByPosition(e.x.startLocation,e.y.startLocation),a=i.startOffset(e.x.startLocation,e.y.startLocation,d.options.snap),n=i,u=i,i&&!d.trigger("moveStart",{event:o})||e.preventDefault(),t):(e.preventDefault(),t)}).bind("drag",function(e){var t,u,l=d.view(),c=l._slotByPosition(e.x.location,e.y.location);c&&(r=c.startOffset(e.x.location,e.y.location,d.options.snap),c.isDaySlot!==i.isDaySlot?(i=l._slotByPosition(e.x.location,e.y.location),a=i.startOffset(e.x.location,e.y.location,d.options.snap),t=r-a,s.isAllDay=c.isDaySlot,s.start=x.timezone.toLocalDate(a),s.end=x.timezone.toLocalDate(r),l._updateMoveHint(s,c.groupIndex,t),u={start:s.start,end:s.end}):(t=r-a,l._updateMoveHint(s,c.groupIndex,t),u=_(s,t)),d.trigger("move",{event:o,slot:{element:c.element,start:c.startDate(),end:c.endDate(),isDaySlot:c.isDaySlot},resources:l._resourceBySlot(c),start:u.start,end:u.end})?l._updateMoveHint(s,c.groupIndex,t):n=c)}).bind("dragend",function(t){var l,c,h,p,f,m,v,g,k;d.view()._removeMoveHint(),l=r-a,c=_(s,l),h=c.start,p=c.end,f=d.view()._resourceBySlot(n),m=d.view()._resourceBySlot(i),v=d.trigger("moveEnd",{event:o,slot:{element:n.element,start:n.startDate(),end:n.endDate()},start:h,end:p,resources:f}),v||o.start.getTime()===h.getTime()&&o.end.getTime()===p.getTime()&&u.isDaySlot===n.isDaySlot&&x.stringify(f)===x.stringify(m)||(g=d.view()._eventOptionsForMove(o),k=u.isDaySlot!==n.isDaySlot?n.isDaySlot?e.extend({start:n.startDate(),end:n.startDate(),isAllDay:n.isDaySlot},g,f):e.extend({isAllDay:n.isDaySlot,start:h,end:p},g,f):e.extend({isAllDay:o.isAllDay,start:h,end:p},g,f),d._updateEvent(null,o,k,n.groupIndex)),t.currentTarget.removeClass("k-event-active"),this.cancelHold()}).bind("dragcancel",function(){d.view()._removeMoveHint(),this.cancelHold()}),c&&(d._moveDraggable.bind("hold",function(e){d.element.find(".k-scheduler-monthview").length&&e.preventDefault(),d.element.find(".k-event-active").removeClass("k-event-active"),e.currentTarget.addClass("k-event-active")}),x.support.mobileOS.android||d._moveDraggable.userEvents.bind("press",function(e){e.preventDefault()})))},_resizable:function(){function t(e){var t,i={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(t in i)if(e.hasClass(t))return i[t]}var i,n,a,r,o,s=this,u=0;s._isMobile()&&x.support.mobileOS.android&&(u=5),s._resizeDraggable=new x.ui.Draggable(s.element,{distance:u,filter:".k-resize-handle",autoScroll:!0,dragstart:function(t){var u=e(t.currentTarget),d=u.closest(".k-event"),l=d.attr(x.attr("uid")),c=s.view();a=s.occurrenceByUid(l),r=a.clone(),c._updateEventForResize(r),o=c._slotByPosition(t.x.startLocation,t.y.startLocation),s.trigger("resizeStart",{event:a})&&t.preventDefault(),i=x.date.toUtcTime(r.start),n=x.date.toUtcTime(r.end)},drag:function(u){var d,l,c,h,p,f;o&&(d=e(u.currentTarget),l=t(d),c=s.view(),h=c._slotByPosition(u.x.location,u.y.location),h&&o.groupIndex==h.groupIndex&&(o=h,p=i,f=n,"south"==l?!o.isDaySlot&&o.end-x.date.toUtcTime(r.start)>=c._timeSlotInterval()&&(n=r.isAllDay?o.startOffset(u.x.location,u.y.location,s.options.snap):o.endOffset(u.x.location,u.y.location,s.options.snap)):"north"==l?!o.isDaySlot&&x.date.toUtcTime(r.end)-o.start>=c._timeSlotInterval()&&(i=o.startOffset(u.x.location,u.y.location,s.options.snap)):"east"==l?o.isDaySlot&&x.date.toUtcTime(x.date.getDate(o.endDate()))>=x.date.toUtcTime(x.date.getDate(r.start))?n=r.isAllDay?o.startOffset(u.x.location,u.y.location,s.options.snap):o.endOffset(u.x.location,u.y.location,s.options.snap):!o.isDaySlot&&o.end-x.date.toUtcTime(r.start)>=c._timeSlotInterval()&&(n=o.endOffset(u.x.location,u.y.location,s.options.snap)):"west"==l&&(o.isDaySlot&&x.date.toUtcTime(x.date.getDate(r.end))>=x.date.toUtcTime(x.date.getDate(o.startDate()))?i=o.startOffset(u.x.location,u.y.location,s.options.snap):!o.isDaySlot&&x.date.toUtcTime(r.end)-o.start>=c._timeSlotInterval()&&(i=o.startOffset(u.x.location,u.y.location,s.options.snap))),s.trigger("resize",{event:a,slot:{element:o.element,start:o.startDate(),end:o.endDate()},start:x.timezone.toLocalDate(i),end:x.timezone.toLocalDate(n),resources:c._resourceBySlot(o)})?(i=p,n=f):c._updateResizeHint(r,o.groupIndex,i,n)))},dragend:function(u){var d,l=e(u.currentTarget),c=new Date(r.start.getTime()),h=new Date(r.end.getTime()),p=t(l);s.view()._removeResizeHint(),"south"==p?h=x.timezone.toLocalDate(n):"north"==p?c=x.timezone.toLocalDate(i):"east"==p?h=o.isDaySlot?x.date.getDate(x.timezone.toLocalDate(n)):x.timezone.toLocalDate(n):"west"==p&&(o.isDaySlot?(c=new Date(x.timezone.toLocalDate(i)),c.setHours(0),c.setMinutes(0)):c=x.timezone.toLocalDate(i)),d=s.trigger("resizeEnd",{event:a,slot:{element:o.element,start:o.startDate(),end:o.endDate()},start:c,end:h,resources:s.view()._resourceBySlot(o)}),!d&&h.getTime()>=c.getTime()&&(r.start.getTime()==c.getTime()&&r.end.getTime()==h.getTime()||(s.view()._updateEventForResize(a),s._updateEvent(p,a,{start:c,end:h}))),o=null,a=null},dragcancel:function(){s.view()._removeResizeHint(),o=null,a=null}})},_updateEvent:function(e,t,i,n){var a,r=this,o=function(e,t){try{r._preventRefresh=!0,e.update(i),r._convertDates(e)}finally{r._preventRefresh=!1}r.trigger(ie,{event:e})||(t&&t(),r._updateSelection(e,[e.uid],n),r.dataSource.sync())},s=function(e){return e.recurrenceRule?r.dataSource.getByUid(e.uid):r.dataSource.get(e.recurrenceId)},u=function(){var n,a,u=s(t);"south"!=e&&"north"!=e||(i.start&&(n=x.date.getDate(u.start),x.date.setTime(n,O(i.start)),i.start=n),i.end&&(a=x.date.getDate(u.end),x.date.setTime(a,O(i.end)),i.end=a)),r.dataSource._removeExceptions(u),o(u)},d=function(){var e=s(t),i=function(){r._convertDates(e)},n=e.toOccurrence({start:t.start,end:t.end});o(r.dataSource.add(n),i)};t.recurrenceRule||t.isOccurrence()?(a=r.options.messages.recurrenceMessages,r._showRecurringDialog(t,d,u,{title:a.editWindowTitle,text:a.editRecurring?a.editRecurring:he,occurrenceText:a.editWindowOccurrence,seriesText:a.editWindowSeries})):o(r.dataSource.getByUid(t.uid))},_modelForContainer:function(t){return t=e(t).closest("["+x.attr("uid")+"]"),this.dataSource.getByUid(t.attr(x.attr("uid")))},showDialog:function(e){this._editor.showDialog(e)},focus:function(){this.wrapper.focus()},_confirmation:function(e,t){var i,n,a,r,o,s=this.options.editable;s===!0||s.confirmation!==!1?(i=this.options.messages,n=i.deleteWindowTitle,a=typeof s.confirmation===L?s.confirmation:i.editable.confirmation,this._isEditorOpened()&&t.isRecurring()&&(r=this.options.messages.recurrenceMessages,n=r.deleteWindowTitle,a=t.isException()?r.deleteRecurringConfirmation?r.deleteRecurringConfirmation:pe:r.deleteSeriesConfirmation?r.deleteSeriesConfirmation:fe),o=[{name:"destroy",text:i.destroy,click:function(){e()}}],this._isMobile()&&x.mobile.ui.Pane||o.push({name:"canceledit",text:i.cancel,click:function(){e(!0)}}),this._unbindResize(),this.showDialog({model:t,text:a,title:n,buttons:o}),this._bindResize()):e()},addEvent:function(e){var t,i,n=this._editor.editable,a=this.dataSource;e=e||{},i=this.trigger("add",{event:e}),!i&&(n&&n.end()||!n)&&(this.cancelEvent(),e&&e.toJSON&&(e=e.toJSON()),t=a.add(e),t&&(this.cancelEvent(),this._editEvent(t)))},saveEvent:function(){var e,t,i,n=this._editor;n&&(e=n.editable,t=n.container,i=this._modelForContainer(t),t&&e&&e.end()&&!this.trigger(ie,{container:t,event:i})&&(i.isRecurrenceHead()&&this.dataSource._removeExceptions(i),i.dirty||i.isOccurrence()||this._convertDates(i,"remove"),this.dataSource.sync()))},cancelEvent:function(){var e,t=this._editor,i=t.container;i&&(e=this._modelForContainer(i),e&&e.isOccurrence()&&(this._convertDates(e,"remove"),this._convertDates(this.dataSource.get(e.recurrenceId),"remove")),this.dataSource.cancelChanges(e),t.close())},editEvent:function(e){var t="string"==typeof e?this.occurrenceByUid(e):e;t&&(this.cancelEvent(),t.isRecurring()?this._editRecurringDialog(t):this._editEvent(t))},_editEvent:function(e){this._unbindResize(),this._createPopupEditor(e),this._bindResize()},_editRecurringDialog:function(e){var t=this,i=function(){e.isException()?t._editEvent(e):t.addEvent(e)},n=function(){e.recurrenceId&&(e=t.dataSource.get(e.recurrenceId)),t._editEvent(e)},a=t.options.messages.recurrenceMessages;t._showRecurringDialog(e,i,n,{title:a.editWindowTitle,text:a.editRecurring?a.editRecurring:he,occurrenceText:a.editWindowOccurrence,seriesText:a.editWindowSeries})},_showRecurringDialog:function(e,t,i,n){var a=this,r=a.options.editable,o=q(r)?r.editRecurringMode:"dialog";"series"===o?i():"occurrence"===o?t():(this._unbindResize(),a.showDialog({model:e,title:n.title,text:n.text,buttons:[{text:n.occurrenceText,click:t},{text:n.seriesText,click:i}]}),this._bindResize())},_createButton:function(e){var t=e.template||me,i=typeof e===L?e:e.name||e.text,n={className:"k-scheduler-"+(i||"").replace(/\s/g,""),text:i,attr:""};if(!(i||q(e)&&e.template))throw Error("Custom commands should have name specified");return q(e)?(e.className&&(e.className+=" "+n.className),"edit"===i&&q(e.text)&&(e=Q(!0,{},e),e.text=e.text.edit),n=Q(!0,n,k[i],e)):n=Q(!0,n,k[i]),x.template(t)(n)},_convertDates:function(e,t){var i=this.dataSource.reader.timezone,n=e.startTimezone,a=e.endTimezone,r=e.start,o=e.start;t=t||"apply",n=n||a,a=a||n,n&&(i?"apply"===t?(r=x.timezone.convert(e.start,i,n),o=x.timezone.convert(e.end,i,a)):(r=x.timezone.convert(e.start,n,i),o=x.timezone.convert(e.end,a,i)):(r=x.timezone[t](e.start,n),o=x.timezone[t](e.end,a)),e._set("start",r),e._set("end",o))},_createEditor:function(){var e,i=this;e=i._editor=this._isMobile()&&x.mobile.ui.Pane?new b(this.wrapper,Q({},this.options,{target:this,timezone:i.dataSource.reader.timezone,resources:i.resources,createButton:$(this._createButton,this)})):new y(this.wrapper,Q({},this.options,{target:this,createButton:$(this._createButton,this),timezone:i.dataSource.reader.timezone,resources:i.resources})),e.bind("cancel",function(e){return i.trigger("cancel",{container:e.container,event:e.model})?(e.preventDefault(),t):(i.cancelEvent(),i.focus(),t)}),e.bind("edit",function(e){i.trigger(ae,{container:e.container,event:e.model})&&e.preventDefault()}),e.bind("save",function(){i.saveEvent()}),e.bind("remove",function(e){i.removeEvent(e.model)})},_createPopupEditor:function(e){var t=this._editor;e.isNew()&&!e.isOccurrence()||(e.isOccurrence()&&this._convertDates(e.recurrenceId?this.dataSource.get(e.recurrenceId):e),this._convertDates(e)),this.editable=t.editEvent(e)},removeEvent:function(e){var t=this,i="string"==typeof e?t.occurrenceByUid(e):e;i&&(i.isRecurring()?t._deleteRecurringDialog(i):t._confirmation(function(e){e||t._removeEvent(i)},i))},occurrenceByUid:function(e){var t=this.dataSource.getByUid(e);return t||(t=u(this._data,e)),t},occurrencesInRange:function(e,t){return new x.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lt",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:e},{field:"end",operator:"gt",value:e}]}]}).toArray()},_removeEvent:function(e){this.trigger(te,{event:e})||this.dataSource.remove(e)&&this.dataSource.sync()},_deleteRecurringDialog:function(e){var t,i,n,a,r,o=this,s=e,u=o.options.editable,d=q(u)?u.editRecurringMode:"dialog",l=function(){var e=s.recurrenceId?s:s.toOccurrence(),t=o.dataSource.get(e.recurrenceId);o._convertDates(t),o._removeEvent(e)},c=function(){s.recurrenceId&&(s=o.dataSource.get(s.recurrenceId)),o._removeEvent(s)};("dialog"!=d||o._isEditorOpened())&&(t=function(){o._confirmation(function(e){e||l()},s)},i=function(){o._confirmation(function(e){e||c()},s)}),n=i||c,a=t||l,o._isEditorOpened()?e.isException()?a():n():(r=o.options.messages.recurrenceMessages,o._showRecurringDialog(e,a,n,{title:r.deleteWindowTitle,text:r.deleteRecurring?r.deleteRecurring:ce,occurrenceText:r.deleteWindowOccurrence,seriesText:r.deleteWindowSeries}))},_isEditorOpened:function(){return!!this._editor.container},
_unbindView:function(e){var t=this;t.angular("cleanup",function(){return{elements:t.items()}}),e.destroy()},_bindView:function(e){var t=this;t.options.editable&&(t._viewRemoveHandler&&e.unbind(te,t._viewRemoveHandler),t._viewRemoveHandler=function(e){t.removeEvent(e.uid)},e.bind(te,t._viewRemoveHandler),t._viewAddHandler&&e.unbind(ne,t._viewAddHandler),t._viewAddHandler=function(e){t.addEvent(e.eventInfo)},e.bind(ne,this._viewAddHandler),t._viewEditHandler&&e.unbind(ae,t._viewEditHandler),t._viewEditHandler=function(e){t.editEvent(e.uid)},e.bind(ae,this._viewEditHandler)),t._viewNavigateHandler&&e.unbind("navigate",t._viewNavigateHandler),t._viewNavigateHandler=function(e){var i,n;e.view&&(i="isWorkDay"in e,n=i?"changeWorkDay":"changeView",t.trigger("navigate",{view:e.view,isWorkDay:e.isWorkDay,action:n,date:e.date})||(i&&(t._workDayMode=e.isWorkDay),t._selectView(e.view),t.date(e.date)))},e.bind("navigate",t._viewNavigateHandler),t._viewActivateHandler&&e.unbind("activate",t._viewActivateHandler),t._viewActivateHandler=function(){var e=this;t._selection&&(e.constrainSelection(t._selection),t._select(),t._adjustSelectedDate())},e.bind("activate",t._viewActivateHandler)},_selectView:function(e){var t,i,n,a=this;e&&a.views[e]&&(a._selectedView&&a._unbindView(a._selectedView),a._selectedView=a._renderView(e),a._selectedViewName=e,a._viewsCount>1&&(t=ve({views:a.views,view:e,ns:x.ns}),i=a.toolbar.find(".k-scheduler-views li:first-child"),i.is(".k-current-view")?i.replaceWith(t):a.toolbar.find(".k-scheduler-views").prepend(t),n=a.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected"),n.end().find(".k-view-"+e.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")))},view:function(e){var i=this;return e?(i._selectView(e),i.rebind(),t):i._selectedView},viewName:function(){return this.view().name},_renderView:function(e){var t=this._initializeView(e);return this._bindView(t),this._model.set("formattedDate",t.dateForTitle()),this._model.set("formattedShortDate",t.shortDateForTitle()),t},resize:function(e){var t=this.getSize(),i=this._size,n=this.view();n&&n.groups&&(!e&&i&&t.width===i.width&&t.height===i.height||(this.refresh({action:"resize"}),this._size=t))},_adjustSelectedDate:function(){var e=this._model.selectedDate,t=this._selection,i=t.start;i&&!x.date.isInDateRange(e,I(i),I(t.end))&&e.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())},_initializeView:function(e){var t,i,n=this.views[e];if(n){if(t=q(n),i=n.type,typeof i===L&&(i=x.getter(n.type)(window)),!i)throw Error("There is no such view");n=new i(this.wrapper,h(Q(!0,{},this.options,t?n:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}return n},_views:function(){var e,t,i,n,a,r,o,s,u,d=this.options.views;for(this.views={},this._viewsCount=0,o=0,s=d.length;o<s;o++)u=!1,e=d[o],n=q(e),n?(r=a=e.type?e.type:e,typeof r!==L&&(a=e.name||e.title,u=!0)):r=a=e,t=z[a],t&&!u&&(e.type=t.type,t.title=this.options.messages.views[a],"day"===t.type?t.messages={allDay:this.options.messages.allDay}:"agenda"===t.type&&(t.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time})),e=Q({title:a},t,n?e:{}),a&&(this.views[a]=e,this._viewsCount++,i&&!e.selected||(i=a));i&&(this._selectedViewName=i)},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var e=this,t=e.options,i=t.dataSource;i=Y(i)?{data:i}:i,!t.timezone||i instanceof Be?i instanceof Be&&(t.timezone=i.options.schema?i.options.schema.timezone:""):i=Q(!0,i,{schema:{timezone:t.timezone}}),e.dataSource&&e._refreshHandler?e.dataSource.unbind(G,e._refreshHandler).unbind("progress",e._progressHandler).unbind("error",e._errorHandler):(e._refreshHandler=$(e.refresh,e),e._progressHandler=$(e._requestStart,e),e._errorHandler=$(e._error,e)),e.dataSource=x.data.SchedulerDataSource.create(i).bind(G,e._refreshHandler).bind("progress",e._progressHandler).bind("error",e._errorHandler),e.options.dataSource=e.dataSource},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_progress:function(e){var t=this.element.find(".k-scheduler-content");x.ui.progress(t,e)},_resources:function(){var t,i,n,a,r,o=this,s=o.options.resources;for(t=0;t<s.length;t++){if(i=s[t],n=i.field,a=i.dataSource,!n||!a)throw Error('The "field" and "dataSource" options of the scheduler resource are mandatory.');o.resources.push({field:n,name:i.name||n,title:i.title||n,dataTextField:i.dataTextField||"text",dataValueField:i.dataValueField||"value",dataColorField:i.dataColorField||"color",valuePrimitive:null==i.valuePrimitive||i.valuePrimitive,multiple:i.multiple||!1,dataSource:x.data.DataSource.create(a)})}r=e.map(o.resources,function(e){return e.dataSource.fetch()}),e.when.apply(null,r).then(function(){o.options.autoBind?o.view(o._selectedViewName):o._selectView(o._selectedViewName)})},_initModel:function(){var e=this;e._model=x.observable({selectedDate:new Date(this.options.date),formattedDate:"",formattedShortDate:""}),e._model.bind("change",function(t){"selectedDate"===t.field&&e.view(e._selectedViewName)})},_wrapper:function(){var e=this,t=e.options,i=t.height,n=t.width;e.wrapper=e.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",!0),e._isMobile()&&e.wrapper.addClass("k-scheduler-mobile"),e._isMobilePhoneView()&&e.wrapper.addClass("k-scheduler-phone"),i&&e.wrapper.height(i),n&&e.wrapper.width(n)},date:function(e){return null!=e&&I(e)>=I(this.options.min)&&I(e)<=I(this.options.max)&&this._model.set("selectedDate",e),I(this._model.get("selectedDate"))},_toolbar:function(){var i,n,a=this,r=a.options,o=[];r.toolbar&&(o=e.isArray(r.toolbar)?r.toolbar:[r.toolbar]),i=this._isMobilePhoneView()?_e:ge,n=e(i({messages:r.messages,pdf:e.grep(o,function(e){return"pdf"==e||"pdf"==e.name}).length>0,ns:x.ns,views:a.views,viewsCount:a._viewsCount})),a.wrapper.append(n),a.toolbar=n,x.bind(a.toolbar,a._model),n.on(X+Z,".k-pdf",function(e){e.preventDefault(),a.saveAsPDF()}),n.on(X+Z,".k-scheduler-navigation li",function(i){var n=e(this),r=new Date(a.date()),o="";if(i.preventDefault(),n.hasClass("k-nav-today"))o="today",r=new Date;else if(n.hasClass("k-nav-next"))o="next",r=a.view().nextDate();else if(n.hasClass("k-nav-prev"))o="previous",r=a.view().previousDate();else if(n.hasClass("k-nav-current")&&!a._isMobilePhoneView())return a._showCalendar(),t;a.trigger("navigate",{view:a._selectedViewName,action:o,date:r})||a.date(r)}),n.on(X+Z,".k-scheduler-views li, .k-scheduler-refresh",function(t){t.preventDefault();var i=e(this).attr(x.attr("name"));a.trigger("navigate",{view:i,action:"changeView",date:a.date()})||(a.view(i),a.element.find(".k-state-expanded").removeClass("k-state-expanded"))}),n.on(X+Z,".k-scheduler-views li.k-current-view",function(){a.element.find(".k-scheduler-views").toggleClass("k-state-expanded")}),n.find("li").hover(function(){e(this).addClass("k-state-hover")},function(){e(this).removeClass("k-state-hover")})},_showCalendar:function(){var t=this,i=t.toolbar.find(".k-nav-current"),n=e('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');t.popup||(t.popup=new U(n,{anchor:i,open:function(){t.calendar||(t.calendar=new j(this.element.find(".k-scheduler-calendar"),{change:function(){var e=this.value();t.trigger("navigate",{view:t._selectedViewName,action:"changeDate",date:e})||(t.date(e),t.popup.close())},min:t.options.min,max:t.options.max})),t.calendar.value(t.date())},copyAnchorStyles:!1})),t.popup.open()},refresh:function(e){var t=this,i=this.view();this._progress(!1),this.angular("cleanup",function(){return{elements:t.items()}}),e=e||{},i&&(e&&"itemchange"===e.action&&(this._editor.editable||this._preventRefresh)||this.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items})||(e&&"resize"===e.action||!this._editor||this._editor.close(),this._data=this.dataSource.expand(i.startDate(),i.endDate()),i.refreshLayout(),i.render(this._data),this.trigger("dataBound")))},slotByPosition:function(e,t){var i,n=this.view();return n._slotByPosition?(i=n._slotByPosition(e,t),i?{startDate:i.startDate(),endDate:i.endDate(),groupIndex:i.groupIndex,element:i.element,isDaySlot:i.isDaySlot}:null):null},slotByElement:function(t){var i=e(t).offset();return this.slotByPosition(i.left,i.top)},resourcesBySlot:function(e){return this.view()._resourceBySlot(e)}}),z={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}},H.plugin(A),x.PDFMixin&&(x.PDFMixin.extend(A.prototype),T="k-scheduler-pdf-export",A.fn._drawPDF=function(t){var i,n,a,r=this.wrapper,o=r[0].style.cssText;return r.css({width:r.width(),height:r.height()}),r.addClass(T),i=this,n=new e.Deferred,a=r.find(".k-scheduler-content").find("table").css("table-layout","auto"),setTimeout(function(){a.css("table-layout","fixed"),i.resize(!0),i._drawPDFShadow({},{avoidLinks:i.options.pdf.avoidLinks}).done(function(e){var i={page:e,pageNumber:1,progress:1,totalPages:1};t.notify(i),n.resolve(i.page)}).fail(function(e){n.reject(e)}).always(function(){r[0].style.cssText=o,r.removeClass(T),i.resize(!0),i.resize(!0)})}),n}),E=W.extend({init:function(e,t){var i=this,n=x.timezone.windows_zones;if(!n||!x.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");W.fn.init.call(i,e,t),i.wrapper=i.element,i._zonesQuery=new x.data.Query(n),i._zoneTitleId=x.guid(),i._zoneTitlePicker(),i._zonePicker(),i._zoneTitle.bind("cascade",function(){this.value()||i._zone.wrapper.hide()}),i._zone.bind("cascade",function(){i._value=this.value(),i.trigger("change")}),i.value(i.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var t=this,i=e('<input id="'+t._zoneTitleId+'"/>').appendTo(t.wrapper);t._zoneTitle=new x.ui.DropDownList(i,{dataSource:x.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:t.options.optionLabel})},_zonePicker:function(){var t=this,i=e("<input />").appendTo(this.wrapper);t._zone=new x.ui.DropDownList(i,{dataValueField:"zone",dataTextField:"territory",dataSource:t._zonesQuery.data,cascadeFrom:t._zoneTitleId,dataBound:function(){t._value=this.value(),this.wrapper.toggle(this.dataSource.view().length>1)}}),t._zone.wrapper.hide()},destroy:function(){W.fn.destroy.call(this),x.destroy(this.wrapper)},value:function(e){var i,n=this;return e===t?n._value:(i=n._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],i?(n._zoneTitle.value(i.other_zone),n._zone.value(i.zone)):n._zoneTitle.select(0),t)}}),H.plugin(E),F=x.template('<option value="#=other_zone#">#=name#</option>'),B=x.template('<option value="#=zone#">#=territory#</option>'),C=W.extend({init:function(e,t){var i=this,n=x.timezone.windows_zones;if(!n||!x.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");W.fn.init.call(i,e,t),i.wrapper=i.element,i._zonesQuery=new x.data.Query(n),i._zoneTitlePicker(),i._zonePicker(),i.value(i.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(e){var t=e?this._filter(e):[];this._zone.html(this._options(t,B))},_filter:function(e){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:e}).data},_options:function(e,t,i){var n=0,a="",r=e.length;for(i&&(a+=t({other_zone:"",name:i}));n<r;n++)a+=t(e[n]);return a},_zoneTitlePicker:function(){var t=this,i=t._options(x.timezone.zones_titles,F,t.options.optionLabel);t._zoneTitle=e("<select>"+i+"</select>").appendTo(t.wrapper).change(function(){var e=this.value,i=t._zone;t._bindZones(e),e&&i[0].children.length>1?i.show():i.hide(),t._value=i[0].value,t.trigger("change")})},_zonePicker:function(){var t=this;t._zone=e('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){t._value=this.value,t.trigger("change")}),t._bindZones(t._zoneTitle.val()),t._value=t._zone[0].value},destroy:function(){W.fn.destroy.call(this),x.destroy(this.wrapper)},value:function(e){var i,n=this,a=n._zone,r="",o="";return e===t?n._value:(i=n._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],i&&(o=i.zone,r=i.other_zone),n._zoneTitle.val(r),n._bindZones(r),a.val(o),o=a[0].value,o&&a[0].children.length>1?a.show():a.hide(),n._value=o,t)}}),H.plugin(C)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.scheduler.min.js.map
